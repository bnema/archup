# Bat configuration
if command -v bat &> /dev/null; then
  export BAT_THEME="TwoDark"
fi

# FZF configuration
# Note: Do NOT add --preview to FZF_DEFAULT_OPTS as it breaks non-file operations
if command -v fzf &> /dev/null; then
  # CTRL-T file/directory picker options
  if command -v bat &> /dev/null; then
    export FZF_CTRL_T_OPTS="--preview 'bat -n --color=always {}' --preview-window right:60%:wrap"
  fi

  # ALT-C directory navigation options
  if command -v tree &> /dev/null; then
    export FZF_ALT_C_OPTS="--preview 'tree -C {} | head -200' --preview-window right:60%:wrap"
  fi
fi

# Initialize dircolors for bash-completion and ls colors
if command -v dircolors &> /dev/null; then
  eval "$(dircolors -b)"
fi
